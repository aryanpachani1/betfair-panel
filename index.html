<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Betfair Load Analyzer Pro</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --green:#22c55e;
      --red:#ef4444;
      --amber:#facc15;
      --blue:#6366f1;
      --cyan:#06b6d4;
      --violet:#8b5cf6;

      --text:#e5e7eb;
      --muted:#9ca3af;
      --border:rgba(255,255,255,.08);

      --glass:rgba(20,24,50,.55);
      --glass-strong:rgba(20,24,50,.75);

      --glow-blue:0 0 30px rgba(99,102,241,.45);
      --glow-green:0 0 30px rgba(34,197,94,.35);
      --glow-red:0 0 30px rgba(239,68,68,.35);
    }

    *{box-sizing:border-box;font-family:'Inter',system-ui}

    /* ===== BACKGROUND (ULTRA ATTRACTIVE) ===== */
    body{
      margin:0;
      min-height:100vh;
      background:
        radial-gradient(circle at 15% 20%, rgba(99,102,241,.35), transparent 45%),
        radial-gradient(circle at 85% 25%, rgba(6,182,212,.30), transparent 45%),
        radial-gradient(circle at 30% 85%, rgba(34,197,94,.25), transparent 45%),
        radial-gradient(circle at 80% 80%, rgba(239,68,68,.22), transparent 45%),
        linear-gradient(180deg,#050816,#0a0f2a,#050816);
      color:var(--text);
      animation:fadeIn 1.2s ease forwards;
    }

    @keyframes fadeIn{from{opacity:0}to{opacity:1}}

    /* ===== HEADER ===== */
    header{
      padding:18px 22px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      backdrop-filter:blur(14px);
      background:linear-gradient(90deg,rgba(15,19,47,.75),rgba(15,19,47,.45));
      border-bottom:1px solid var(--border);
      box-shadow:var(--glow-blue);
    }

    header h1{
      margin:0;
      font-size:20px;
      font-weight:700;
      letter-spacing:.6px;
    }

    header span{font-size:12px;color:var(--muted)}

    .wrap{max-width:1200px;margin:0 auto;padding:22px}

    /* ===== GRID ===== */
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:18px}

    /* ===== GLASS CARDS ===== */
    .card{
      background:linear-gradient(180deg, var(--glass), var(--glass-strong));
      backdrop-filter:blur(18px);
      border:1px solid var(--border);
      border-radius:22px;
      padding:18px;
      box-shadow:0 25px 70px rgba(0,0,0,.55);
      transition:.4s cubic-bezier(.4,0,.2,1);
      animation:cardIn .8s ease forwards;
      opacity:0;
      transform:translateY(30px) scale(.96);
    }

    @keyframes cardIn{to{opacity:1;transform:none}}

    .card:hover{
      transform:translateY(-8px) scale(1.03);
      box-shadow:0 35px 90px rgba(0,0,0,.75);
    }

    .card h3{
      margin:0 0 14px;
      font-size:13px;
      font-weight:700;
      letter-spacing:.8px;
      color:#c7d2fe;
      text-transform:uppercase;
    }

    /* ===== INPUTS ===== */
    label{font-size:11px;color:var(--muted)}

    input{
      width:100%;
      padding:14px;
      border-radius:16px;
      border:1px solid var(--border);
      background:rgba(5,8,22,.7);
      color:var(--text);
      outline:none;
      transition:.25s;
    }

    input:focus{
      border-color:var(--blue);
      box-shadow:var(--glow-blue);
      transform:scale(1.04);
    }

    .row{display:grid;grid-template-columns:1fr 1fr;gap:14px}
    .row3{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}

    /* ===== BUTTON ===== */
    .btn{
      padding:16px 26px;
      border-radius:18px;
      border:0;
      background:linear-gradient(90deg,#6366f1,#8b5cf6,#06b6d4);
      color:#fff;
      font-weight:800;
      letter-spacing:.7px;
      cursor:pointer;
      box-shadow:var(--glow-blue);
      transition:.35s;
    }

    .btn:hover{
      transform:scale(1.1);
      box-shadow:0 0 45px rgba(99,102,241,.9);
    }

    /* ===== LOAD BAR ===== */
    .bar-wrap{
      height:32px;
      background:rgba(5,8,22,.9);
      border-radius:999px;
      overflow:hidden;
      border:1px solid var(--border);
    }

    .bar{height:100%;display:flex}
    .bar .a,.bar .b{transition:width 1s cubic-bezier(.4,0,.2,1)}
    .bar .a{background:linear-gradient(90deg,#22c55e,#16a34a)}
    .bar .b{background:linear-gradient(90deg,#ef4444,#b91c1c)}

    .bar-labels{
      display:flex;justify-content:space-between;
      margin-top:10px;font-size:14px;color:var(--muted)
    }

    /* ===== PILLS ===== */
    .pill{
      display:inline-flex;align-items:center;gap:6px;
      padding:10px 20px;border-radius:999px;
      font-size:12px;font-weight:800;
      margin:6px 8px 6px 0;
      animation:fadeUp .6s ease forwards
    }

    .pill.green{background:rgba(34,197,94,.18);color:var(--green);box-shadow:var(--glow-green)}
    .pill.red{background:rgba(239,68,68,.18);color:var(--red);box-shadow:var(--glow-red)}
    .pill.amber{background:rgba(250,204,21,.18);color:var(--amber)}

    @keyframes fadeUp{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:none}}

    footer{
      text-align:center;padding:18px;font-size:12px;color:var(--muted);opacity:.85
    }

    /* ===== MOBILE ===== */
    @media(max-width:900px){
      .grid{grid-template-columns:repeat(6,1fr)}
      .card{grid-column:span 6!important}
    }

    @media(max-width:600px){
      header{text-align:center;flex-direction:column;gap:6px}
      .wrap{padding:14px}
      .row,.row3{grid-template-columns:1fr}
      .btn{width:100%}
      .bar-labels{flex-direction:column;gap:6px;text-align:center}
      .pill{width:100%;justify-content:center}
    }
  </style>
</head>
<body>

<header>
  <h1>Betfair Load Analyzer <span>PRO</span></h1>
  <span>Market Psychology & Exposure Dashboard</span>
</header>

<div class="wrap">
  <div class="grid">

    <div class="card" style="grid-column:span 6">
      <h3>Team Setup</h3>
      <div class="row">
        <div><label>Team A</label><input id="teamA" placeholder="Team A"></div>
        <div><label>Team B</label><input id="teamB" placeholder="Team B"></div>
      </div>
    </div>

    <div class="card" style="grid-column:span 6">
      <h3>Market Info</h3>
      <label>Total Matched Amount (GBP)</label>
      <input id="matched" placeholder="e.g. 1,000,000" oninput="analyze()">
    </div>

    <div class="card" style="grid-column:span 6">
      <h3>Team A Ladder</h3>
      <label>Back (Top 3)</label>
      <div class="row3">
        <input id="aBack1" oninput="analyze()" placeholder="Back 1">
        <input id="aBack2" oninput="analyze()" placeholder="Back 2">
        <input id="aBack3" oninput="analyze()" placeholder="Back 3">
      </div>
      <label style="margin-top:12px">Lay (Top 3)</label>
      <div class="row3">
        <input id="aLay1" oninput="analyze()" placeholder="Lay 1">
        <input id="aLay2" oninput="analyze()" placeholder="Lay 2">
        <input id="aLay3" oninput="analyze()" placeholder="Lay 3">
      </div>
    </div>

    <div class="card" style="grid-column:span 6">
      <h3>Team B Ladder</h3>
      <label>Back (Top 3)</label>
      <div class="row3">
        <input id="bBack1" oninput="analyze()" placeholder="Back 1">
        <input id="bBack2" oninput="analyze()" placeholder="Back 2">
        <input id="bBack3" oninput="analyze()" placeholder="Back 3">
      </div>
      <label style="margin-top:12px">Lay (Top 3)</label>
      <div class="row3">
        <input id="bLay1" oninput="analyze()" placeholder="Lay 1">
        <input id="bLay2" oninput="analyze()" placeholder="Lay 2">
        <input id="bLay3" oninput="analyze()" placeholder="Lay 3">
      </div>
    </div>

    <div class="card" style="grid-column:span 12">
      <h3>Market Load Distribution</h3>
      <div class="bar-wrap">
        <div class="bar">
          <div id="barA" class="a" style="width:50%"></div>
          <div id="barB" class="b" style="width:50%"></div>
        </div>
      </div>
      <div class="bar-labels">
        <span id="labelA">Team A 50%</span>
        <span id="labelB">Team B 50%</span>
      </div>
    </div>

    <div class="card" style="grid-column:span 12">
      <h3>Insights, Signals & Market Psychology</h3>
      <div id="insights"></div>
    </div>

  </div>
</div>

<footer>Educational & analytical use only • Manual ladder input</footer>

<script>
function sum(ids){return ids.reduce((t,id)=>t+(+document.getElementById(id).value||0),0)}
function matchedInput(){const v=document.getElementById('matched').value.replace(/,/g,'');return parseInt(v||0)}

function analyze(){
  const A = teamA.value || 'Team A';
  const B = teamB.value || 'Team B';

  const matched = matchedInput();

  const aBack = sum(['aBack1','aBack2','aBack3']);
  const aLay  = sum(['aLay1','aLay2','aLay3']);
  const bBack = sum(['bBack1','bBack2','bBack3']);
  const bLay  = sum(['bLay1','bLay2','bLay3']);

  const exposureA = Math.max(aBack, bLay);
  const exposureB = Math.max(bBack, aLay);

  const totalExposure = exposureA + exposureB || 1;

  const pctA = Math.round((exposureA / totalExposure) * 100);
  const pctB = 100 - pctA;

  const amtA = Math.round(matched * pctA / 100);
  const amtB = matched - amtA;

  barA.style.width = pctA + '%';
  barB.style.width = pctB + '%';

  labelA.innerText = `${A} ${pctA}% (£${amtA.toLocaleString()})`;
  labelB.innerText = `${B} ${pctB}% (£${amtB.toLocaleString()})`;

  const loaded = exposureA > exposureB ? A : B;

  let psychology = 'Balanced market. No clear dominance yet.';
  if(pctA >= 70 || pctB >= 70) psychology = 'Extreme public bias. High trap probability.';
  else if(pctA >= 60 || pctB >= 60) psychology = 'Strong public tilt. Smart money waits for spikes.';
  else if(pctA >= 55 || pctB >= 55) psychology = 'Slight imbalance. Market flexible.';

  insights.innerHTML = `
    <div class="pill green">Loaded Team: ${loaded}</div>
    <div class="pill amber">Matched Split → ${A}: £${amtA.toLocaleString()} | ${B}: £${amtB.toLocaleString()}</div>
    <div class="pill red">Safer Entry Bias: ${loaded === A ? B : A}</div>
    <p style="margin-top:14px;font-size:14px;color:var(--muted)"><b>Market Psychology:</b> ${psychology}</p>
  `;
}
</script>

</body>
</html>
