<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Betfair Load Analyzer Pro</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --green:#22c55e; --red:#ef4444; --amber:#facc15; --blue:#6366f1;
      --bg:#0b0f1f; --card:#141832; --text:#e5e7eb; --muted:#9ca3af; --border:#24286a;
      --glow:0 0 22px rgba(99,102,241,.45);
    }

    *{box-sizing:border-box;font-family:'Inter',system-ui}

    body{
      margin:0;
      background:radial-gradient(circle at top,#1b1f4d,#070a16);
      color:var(--text);
      animation:fadeIn 1s ease forwards;
    }

    @keyframes fadeIn{from{opacity:0}to{opacity:1}}

    header{
      padding:18px 24px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      border-bottom:1px solid var(--border);
      background:linear-gradient(90deg,#0f132f,#151a45);
      box-shadow:var(--glow);
      animation:slideDown .8s ease forwards;
    }

    @keyframes slideDown{from{transform:translateY(-20px);opacity:0}to{transform:none;opacity:1}}

    header h1{margin:0;font-size:20px;font-weight:700;letter-spacing:.5px}
    header span{font-size:12px;color:var(--muted)}

    .wrap{max-width:1200px;margin:0 auto;padding:22px}

    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:16px}

    .card{
      background:linear-gradient(180deg,#141832,#0f1330);
      border:1px solid var(--border);
      border-radius:20px;
      padding:18px;
      box-shadow:0 14px 40px rgba(0,0,0,.45);
      opacity:0;
      transform:translateY(20px) scale(.98);
      animation:cardIn .7s ease forwards;
    }

    .card:nth-child(1){animation-delay:.1s}
    .card:nth-child(2){animation-delay:.2s}
    .card:nth-child(3){animation-delay:.3s}
    .card:nth-child(4){animation-delay:.4s}
    .card:nth-child(5){animation-delay:.5s}
    .card:nth-child(6){animation-delay:.6s}

    @keyframes cardIn{to{opacity:1;transform:none}}

    .card:hover{
      transform:translateY(-6px) scale(1.02);
      box-shadow:0 25px 60px rgba(0,0,0,.6);
    }

    .card h3{
      margin:0 0 14px;
      font-size:13px;
      font-weight:600;
      color:#c7d2fe;
      text-transform:uppercase;
      letter-spacing:.8px;
    }

    label{font-size:11px;color:var(--muted)}

    input{
      width:100%;
      padding:14px;
      border-radius:14px;
      border:1px solid var(--border);
      background:#0b0f2a;
      color:var(--text);
      outline:none;
      transition:.25s;
    }

    input:focus{border-color:var(--blue);box-shadow:var(--glow);transform:scale(1.03)}

    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .row3{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}

    .btn{
      padding:16px 26px;
      border-radius:16px;
      border:0;
      background:linear-gradient(90deg,#6366f1,#818cf8);
      color:#fff;
      font-weight:700;
      letter-spacing:.6px;
      cursor:pointer;
      box-shadow:var(--glow);
      transition:.3s;
    }

    .btn:hover{transform:scale(1.08);box-shadow:0 0 35px rgba(129,140,248,.8)}
    .btn.secondary{background:linear-gradient(90deg,#334155,#475569);box-shadow:none}

    .pill{
      display:inline-flex;align-items:center;gap:6px;
      padding:10px 18px;border-radius:999px;
      font-size:12px;font-weight:700;margin-right:10px;
      opacity:0;animation:fadeUp .6s ease forwards
    }

    .pill.green{background:rgba(34,197,94,.15);color:var(--green)}
    .pill.red{background:rgba(239,68,68,.15);color:var(--red)}
    .pill.amber{background:rgba(250,204,21,.15);color:var(--amber)}

    @keyframes fadeUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}

    .bar-wrap{
      background:#0b0f2a;border-radius:999px;overflow:hidden;
      border:1px solid var(--border);height:30px
    }

    .bar{height:100%;display:flex}

    .bar .a,.bar .b{transition:width .9s cubic-bezier(.4,0,.2,1)}
    .bar .a{background:linear-gradient(90deg,#22c55e,#16a34a)}
    .bar .b{background:linear-gradient(90deg,#ef4444,#b91c1c)}

    .bar-labels{
      display:flex;justify-content:space-between;
      font-size:14px;margin-top:10px;color:var(--muted)
    }

    footer{text-align:center;padding:18px;font-size:12px;color:var(--muted);opacity:.8}
  </style>
</head>
<body>

<header>
  <h1>Betfair Load Analyzer <span>PRO</span></h1>
  <span>Live Market Psychology Dashboard</span>
</header>

<div class="wrap">
  <div class="grid">

    <div class="card" style="grid-column:span 6">
      <h3>Team Setup</h3>
      <div class="row">
        <div><label>Team A</label><input id="teamA" placeholder="Team A"></div>
        <div><label>Team B</label><input id="teamB" placeholder="Team B"></div>
      </div>
    </div>

    <div class="card" style="grid-column:span 6">
      <h3>Market Info</h3>
      <label>Total Matched Amount (GBP)</label>
      <input id="matched" placeholder="e.g. 1,000,000" oninput="analyze()">
    </div>

    <div class="card" style="grid-column:span 6">
      <h3>Team A Ladder</h3>
      <label>Back (Top 3)</label>
      <div class="row3">
        <input id="aBack1" oninput="analyze()" placeholder="Back 1">
        <input id="aBack2" oninput="analyze()" placeholder="Back 2">
        <input id="aBack3" oninput="analyze()" placeholder="Back 3">
      </div>
      <label style="margin-top:12px">Lay (Top 3)</label>
      <div class="row3">
        <input id="aLay1" oninput="analyze()" placeholder="Lay 1">
        <input id="aLay2" oninput="analyze()" placeholder="Lay 2">
        <input id="aLay3" oninput="analyze()" placeholder="Lay 3">
      </div>
    </div>

    <div class="card" style="grid-column:span 6">
      <h3>Team B Ladder</h3>
      <label>Back (Top 3)</label>
      <div class="row3">
        <input id="bBack1" oninput="analyze()" placeholder="Back 1">
        <input id="bBack2" oninput="analyze()" placeholder="Back 2">
        <input id="bBack3" oninput="analyze()" placeholder="Back 3">
      </div>
      <label style="margin-top:12px">Lay (Top 3)</label>
      <div class="row3">
        <input id="bLay1" oninput="analyze()" placeholder="Lay 1">
        <input id="bLay2" oninput="analyze()" placeholder="Lay 2">
        <input id="bLay3" oninput="analyze()" placeholder="Lay 3">
      </div>
    </div>

    <div class="card" style="grid-column:span 12">
      <h3>Market Load Distribution</h3>
      <div class="bar-wrap">
        <div class="bar">
          <div id="barA" class="a" style="width:50%"></div>
          <div id="barB" class="b" style="width:50%"></div>
        </div>
      </div>
      <div class="bar-labels">
        <span id="labelA">Team A 50%</span>
        <span id="labelB">Team B 50%</span>
      </div>
    </div>

    <div class="card" style="grid-column:span 12">
      <h3>Insights, Signals & Market Psychology</h3>
      <div id="insights"></div>
    </div>

  </div>
</div>

<footer>Educational & analytical use only • Manual ladder input</footer>

<script>
function sum(ids){return ids.reduce((t,id)=>t+(+document.getElementById(id).value||0),0)}

function matchedInput(){
  const v = document.getElementById('matched').value.replace(/,/g,'');
  return parseInt(v||0);
}

function analyze(){
  const A = teamA.value || 'Team A';
  const B = teamB.value || 'Team B';

  const matched = matchedInput();

  const aBack = sum(['aBack1','aBack2','aBack3']);
  const aLay  = sum(['aLay1','aLay2','aLay3']);
  const bBack = sum(['bBack1','bBack2','bBack3']);
  const bLay  = sum(['bLay1','bLay2','bLay3']);

  const exposureA = Math.max(aBack, bLay);
  const exposureB = Math.max(bBack, aLay);

  const totalExposure = exposureA + exposureB || 1;

  const pctA = Math.round((exposureA / totalExposure) * 100);
  const pctB = 100 - pctA;

  const amtA = Math.round(matched * pctA / 100);
  const amtB = matched - amtA;

  barA.style.width = pctA + '%';
  barB.style.width = pctB + '%';

  labelA.innerText = `${A} ${pctA}% (£${amtA.toLocaleString()})`;
  labelB.innerText = `${B} ${pctB}% (£${amtB.toLocaleString()})`;

  const loaded = exposureA > exposureB ? A : B;

  let psychology = 'Balanced market. No clear dominance yet.';
  if(pctA >= 70 || pctB >= 70) psychology = 'Extreme public bias. High trap probability.';
  else if(pctA >= 60 || pctB >= 60) psychology = 'Strong public tilt. Smart money waits for spikes.';
  else if(pctA >= 55 || pctB >= 55) psychology = 'Slight imbalance. Market flexible.';

  insights.innerHTML = `
    <div class="pill green">Loaded Team: ${loaded}</div>
    <div class="pill amber">Matched Split → ${A}: £${amtA.toLocaleString()} | ${B}: £${amtB.toLocaleString()}</div>
    <div class="pill red">Safer Entry Bias: ${loaded === A ? B : A}</div>

    <p style="margin-top:14px;font-size:14px;color:var(--muted)">
      <b>Market Psychology:</b> ${psychology}
    </p>
  `;
}
</script>

</body>
</html>
